<div class="container">
    <h3>Registration form</h3>
    <form [formGroup]="registerForm" (ngSubmit)="handleSubmit()">
        <div class="form-group">
            <label> First name</label>
            <input type="text" placeholder="Enter First Name" formControlName="firstName"
                [ngClass]="{'is-invalid': submitted && form['firstName'].errors}" class="form-control" />
            <div *ngIf="submitted && form['firstName'].errors" class="invalid-feedback">
                First Name cannot be empty
            </div>
        </div>

        <div class="form-group">
            <label> Last name</label>
            <input type="text" placeholder="Enter Last Name" formControlName="lastName"
                [ngClass]="{'is-invalid': submitted && form['lastName'].errors}" class="form-control" />
            <div *ngIf="submitted && form['lastName'].errors" class="invalid-feedback">
                Last Name cannot be empty
            </div>
        </div>

        <div class="form-group">
            <label>Email Id</label>
            <input type="email" placeholder="Enter Email" formControlName="email"
                [ngClass]="{'is-invalid': submitted && form['email'].errors}" class="form-control" />
            <div *ngIf="submitted && form['email'].errors" class="invalid-feedback">
                <div *ngIf="form['email'].errors['required']">
                    Email cannot be empty
                </div>
                <div *ngIf="form['email'].errors['email']">
                    Invalid Email id format
                </div>
            </div>
        </div>

        <div class="form-group">
            <label>Username</label>
            <input type="text" placeholder="Enter Username" formControlName="username"
                [ngClass]="{'is-invalid': submitted && form['username'].errors}" class="form-control" />
            <div *ngIf="submitted && form['username'].errors" class="invalid-feedback">
                <div *ngIf="form['username'].errors['required']">
                    Username cannot be empty
                </div>
                <div *ngIf="form['username'].errors['forbiddenName']">
                    Username cannot contain admin
                </div>
            </div>
        </div>

        <div class="form-group">
            <label>Password</label>
            <input type="password" placeholder="Enter Password" formControlName="password"
                [ngClass]="{'is-invalid': submitted && form['password'].errors}" class="form-control" />
            <div *ngIf="submitted && form['password'].errors" class="invalid-feedback">
                <div *ngIf="form['password'].errors['required']">
                    Password cannot be empty
                </div>
                <div *ngIf="form['password'].errors['minlength']">
                    Password must be 6 characters long
                </div>
            </div>
        </div>

        <div class="form-group">
            <label>Gender</label>
            <div class="custom-control custom-radio">
                <input id="male" type="radio" value="male" name="gender" formControlName = "gender" />
                <label class="custom-control-label" for="male">Male</label>
            </div>
            <div class="custom-control custom-radio">
                <input id="female" type="radio" value="female" name="gender" formControlName = "gender" />
                <label class="custom-control-label" for="female">Female</label>
            </div>
            
            <div *ngIf = "submitted && form['gender'].errors?.['required']" class="invalid-feedback-polyfill text-danger">
                Plese select gender.
            </div>
        </div>

        <button type="submit">Register</button>
    </form>

</div>